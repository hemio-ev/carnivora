name: system
description: |
 Carnivora System: Central module
priv_all_all:
 - system
priv_usage:
 - userlogin

table_templates:
 -
  template: reference_service_entity
  description: Reference to system.service_entity
  columns:
   -
    name: service_entity_name
    type: dns.t_domain
    description: Host name
   -
    name: service
    type: commons.t_key
    description: email, ssh, ...

  foreign_keys:
   -
    name: reference service
    columns:
     - service_entity_name
     - service
    ref_table: system.service_entity
    ref_columns:
     - service_entity_name
     - service

 -
  template: reference_subservice_entity
  description: Reference to system.subservice_entity
  columns:
   -
    name: subservice
    type: commons.t_key
    description: account, alias, ...

  foreign_keys:
   -
    name: reference subservice
    columns:
     - service_entity_name
     - service
     - subservice
    ref_table: system.subservice_entity
    ref_columns:
     - service_entity_name
     - service
     - subservice
 -
  template: contingent
  description: Contingent
  columns:
   -
    name: quantity
    type: integer
    default: "0"
    description: Quantity

