name: commons
description: |
 Carnivora Commons: Usefull templates and types

column_templates:
 -
  template: password
  name: password
  type: commons.t_password
  description: Unix shadow crypt format
 -
  template: uuid_serial
  name: id
  description: |
      uuid serial number to identify database elements uniquely
      The default value is generated using uuid_generate_v4().
  type: uuid
  default: uuid_generate_v4()
  unique: true

domains:
 -
  name: t_password
  type: varchar(250)
  description: "unix hash thingy - todo: propper checking of format"
 -
  name: t_password_plaintext
  type: varchar(255)
  description: Password in plaintext
  checks:
   -
    name: min password length
    description: Ensure that passwords at least have 8 chars
    check: character_length(VALUE) >= 8 
 -
  name: t_key
  type: varchar(50)
  description: Key
