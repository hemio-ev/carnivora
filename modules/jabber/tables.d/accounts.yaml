name: accounts
description: Jabber accounts

primary_key:
 - node
 - domain

templates:
 - dns.reference_service

columns:
 -
  tag: column
  name: service
  type: varchar
  description: Ensures that referenced domain is jabber enabled.
  default: "'jabber'"
  check: VALUE == 'jabber'
 -
  tag: column
  name: node
  type: varchar(255)
  description: part in front of the @ in account name
 -
  tag: column_tpl
  template: commons.password
 -
  tag: column_tpl
  template: backend.job
 -
  tag: column_tpl
  template: user.owner

checks:
 -
  name: rr_type alyways SRV
  description: see name
  check: service = 'jabber'
